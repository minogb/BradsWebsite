@using System.Security.Claims;
@model BradsWebsite.Areas.Post.Models.PostModel

<div class="row">
    <div class="card">
        <div class="card-body">
            @if (User.Identity.IsAuthenticated && User.FindFirst(ClaimTypes.NameIdentifier).Value == Model.User.Id.ToString())
            {
                <form id="selectLanguage" asp-controller="Post" asp-action="Delete" asp-route-returnUrl="@Context.Request.Path" method="post" role="form">
                    <div>
                        <button style="float:right" class="btn" type="submit" name="ID" value="@Model.Id">
                            <i class="bi bi-x"></i>
                        </button>
                    </div>
                </form>
            }
            <h4 class="card-title">@Model.User.UserName</h4>
            <p class="text-muted card-subtitle" style="font-size:12px">@Model.Date</p>
            <pre class="card-text text-wrap">@Model.Message</pre>

            <h6 class="card-subtitle mb-2 text-muted" style="float:right">Replies: @Model.Replies</h6>
            @foreach(var link in Model.Links){
                <a class="card-link text-dark" href="@link" target="_blank"><pre>@link</pre></a>
            }
            <a class="text-dark" asp-area="Post" asp-controller="Post" asp-action="Reply" asp-route-id="@Model.Id">
                <i class="bi bi-reply"></i>
            </a>
        </div>
    </div>
</div>